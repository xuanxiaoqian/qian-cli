import{_ as s,c as a,o as n,a as p}from"./app.c207d598.js";const A=JSON.parse('{"title":"\u6CE8\u610F\u4E8B\u9879","description":"","frontmatter":{},"headers":[{"level":2,"title":"1. Vite\u4EE3\u7406\u4E8B\u4EF6","slug":"_1-vite\u4EE3\u7406\u4E8B\u4EF6","link":"#_1-vite\u4EE3\u7406\u4E8B\u4EF6","children":[]}],"relativePath":"configDoc/vue3-template/careful.md"}'),l={name:"configDoc/vue3-template/careful.md"},o=p(`<h1 id="\u6CE8\u610F\u4E8B\u9879" tabindex="-1">\u6CE8\u610F\u4E8B\u9879 <a class="header-anchor" href="#\u6CE8\u610F\u4E8B\u9879" aria-hidden="true">#</a></h1><h2 id="_1-vite\u4EE3\u7406\u4E8B\u4EF6" tabindex="-1">1. Vite\u4EE3\u7406\u4E8B\u4EF6 <a class="header-anchor" href="#_1-vite\u4EE3\u7406\u4E8B\u4EF6" aria-hidden="true">#</a></h2><blockquote><p>\u60C5\u51B5\uFF1A\u6211\u4F7F\u7528vite\u7684proxy\u53BB\u4EE3\u7406\u6211\u7684\u8BF7\u6C42\uFF0C\u4F46\u662F\u6211\u53D1\u73B0\u597D\u50CF\u5E76\u6CA1\u6709\u5E2E\u6211\u4EE3\u7406</p></blockquote><p><code>\u4E8B\u4EF6\u91CD\u73B0</code>\uFF1A</p><p>\u6211\u5728vite.config\u91CC\u9762\u5199\u4E86\u4EE3\u7406\u914D\u7F6E</p><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre><code><span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">server</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">proxy</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">^/api</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        target</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://localhost:8000</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;">// \u540E\u7AEF\u670D\u52A1\u5B9E\u9645\u5730\u5740</span></span>
<span class="line"><span style="color:#F07178;">        changeOrigin</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;">//\u5F00\u542F\u4EE3\u7406</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">rewrite</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">^</span><span style="color:#A6ACCD;">\\/</span><span style="color:#C3E88D;">api</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span></code></pre></div><p><code>src/utils/http/defaultConfig</code></p><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">AxiosRequestConfig</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">axios</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> defaultConfig</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">AxiosRequestConfig</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">baseURL</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/api</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">	</span><span style="color:#676E95;">// \u5DF2\u7ECF\u6DFB\u52A0\u4E0A\u4E86</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">default</span><span style="color:#A6ACCD;"> defaultConfig</span></span>
<span class="line"></span></code></pre></div><p><code>src/api/login/user/user.ts</code></p><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> http </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/@/utils/http</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> allVideo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> http</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">post</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/user/login</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>\u7136\u540E\u6211\u5F00\u5FC3\u7684\u53BB\u8BF7\u6C42\u4E86\uFF0C\u5374\u53D1\u73B0\u6D4F\u89C8\u5668\u62A5\u9519</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">POST http://192.168.31.153:3000/api/user/login 404 </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Not Found</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">Error: Request failed with status code 404</span></span>
<span class="line"><span style="color:#A6ACCD;">...</span></span>
<span class="line"></span></code></pre></div><p>\u6211\u4E00\u770B\uFF0C\u5730\u5740\u4E3A\u4EC0\u4E48\u662F\u8FD9\u6837\u7684\uFF0C\u4E0D\u5E94\u8BE5\u662F <code>http://localhost:8000/user/login</code>\u5417\uFF1F\u6211\u4EE5\u4E3A\u662F\u4EE3\u7406\u5931\u6548\uFF0C\u627E\u4E86\u534A\u5929\u624D\u53D1\u73B0\u662F\u6211\u8BF7\u6C42\u65B9\u5F0F\u9519\u4E86</p><p><code>src/api/login/user/user.ts</code></p><div class="language-ts"><button class="copy"></button><span class="lang">ts</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> http </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/@/utils/http</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> allVideo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> http</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/user/login</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)	</span><span style="color:#676E95;">// \u6539\u6210get</span></span>
<span class="line"></span></code></pre></div><p>\u6211\u4EEC\u770B\u6210\u529F\u7684\u771F\u5B9E\u8BF7\u6C42\u5730\u5740</p><div class="language-sh"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">\u8BF7\u6C42\u7F51\u5740: http://192.168.31.153:3000/api/user/login</span></span>
<span class="line"><span style="color:#A6ACCD;">\u8BF7\u6C42\u65B9\u6CD5: GET</span></span>
<span class="line"></span></code></pre></div><p>\u662F\u6211nginx\u77E5\u8BC6\u8584\u5F31\u4E86\uFF0C\u4ED6\u7684\u8BF7\u6C42\u5730\u5740\u4E0D\u4F1A\u53D8\u3002</p><p>\u4F46\u662F\u4E3A\u4EC0\u4E48\u4F1A\u73B0\u5728\u624D\u53D1\u73B0\u8FD9\u4E2A\u95EE\u9898\u5462\uFF1F\u53EF\u80FD\u662F\u4E4B\u524D\u521B\u5EFA\u9879\u76EE\u7B2C\u4E00\u6B21\u8BF7\u6C42\u90FD\u6210\u529F\u4E86\uFF0C\u5F53\u540E\u9762\u7684api\u5199\u9519\u4E86\u6D4F\u89C8\u5668\u62A5404\u6211\u5C31\u4F1A\u6F5C\u610F\u8BC6\u8BA4\u4E3A\u662F\u6211api\u5730\u5740\u6216\u8BF7\u6C42\u65B9\u5F0F\u5199\u9519\u4E86\uFF0C\u4F46\u662F\u8FD9\u6B21\u662F\u7B2C\u4E00\u6B21\u8BF7\u6C42\u5C31\u62A5\u9519\uFF0C\u8BA9\u6211\u4EE5\u4E3A\u662F\u6CA1\u6709\u4EE3\u7406\u4E0A\u3002</p>`,19),e=[o];function t(c,r,D,F,y,i){return n(),a("div",null,e)}const d=s(l,[["render",t]]);export{A as __pageData,d as default};
